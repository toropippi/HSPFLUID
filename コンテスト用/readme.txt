--------------------------------------------------------------------------
【  ソフト名   】HSPFLUID64.dll
【 バージョン  】1.00
【    作者     】toropippi
【  必要環境１ 】WindowsXP以降
【  必要環境２ 】HSP Ver3.5以降 64bit
【  取扱種別   】フリープラグイン
【    内容     】HSP3用流体力学計算プラグイン
--------------------------------------------------------------------------

■使用方法

●HSPスクリプトエディタからHSPFLUID64を使う場合
１、「HSPFLUID64.dll」をHSPインストールフォルダ「C:\hsp」ないしは「C:\Program Files (x86)\hsp」か「C:\Program Files\hsp」へコピーして下さい。
２、「HSPFLUID64.as」をHSPインストールフォルダの「common」フォルダの中へ入れて下さい。
３、ヘルプデータをコピーしたい場合は、「doclib」フォルダ自体をそのままHSPインストールフォルダの中へ上書きして下さい。

●実行ファイル形式でHSPFLUID64を使う場合
１、HSPFLUID64.dllを実行ファイルと同じディレクトリに入れて下さい。


■概要
これはHSP3から簡単に流体計算を扱うことができるプラグインです。
主にゲームに組み込まれることを想定しています。(精度は期待しないで下さい)

２次元限定ですが、x,y速度場と圧力と壁情報の4つの配列変数をHSP側で用意すれば、後は難しい流体の計算はプラグインに任せることができます。
流体の計算部分は非常に重く、同じ計算をHSPでやろうとするとかなり遅くなって使い物にならなくなりますが、
プラグイン(C++)に重い計算をすべて投げることができるので、現実的な実行速度が得られます。

■計算の概要
FluidProcess命令で計算している内容ですが
http://blog.livedoor.jp/toropippi/archives/52986.html
こちらに書いてある通りです。

1 速度場から次のTIME STEPの速度を求める(移流)
2 その速度からダイバージェンスを計算
3 ダイバージェンスからSOR法で圧力を計算
4 圧力から速度を修正

SOR法の反復回数はデフォルトで8回です。
加速係数は1.72です。
発散しないよう速度は制限がかかっており全ての領域の速度成分は-1.2～1.2にクランプされます。
流体計算の時間刻み幅⊿tは1.0固定です。

加速係数や⊿tが固定なのは計算速度を優先させるためです。

■著作権 License

HSPFLUID64.dll、HSPFLUID64.as、その他同じフォルダ内にあるSample、TutorialのHSPソースコードはすべて
Apache license 2.0です。

使用や頒布、修正、派生版の頒布、ライセンスの継承に関して制限がなく、有償無償ソフトウェアいずれに関わらず使用可能です。

■連絡先
efghiqippi@yahoo.co.jp